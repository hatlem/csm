# =============================================================================
# CSM Voice Service - Environment Configuration
# =============================================================================
# Copy this file to .env and configure for your environment.

# Service Configuration
CSM_SERVICE_NAME=csm-voice-service
CSM_ENVIRONMENT=development
CSM_DEBUG=false
CSM_LOG_LEVEL=INFO

# API Configuration
CSM_API_HOST=0.0.0.0
CSM_API_PORT=8000
CSM_API_WORKERS=1
CSM_API_KEY=your-secret-api-key-here

# Model Configuration
CSM_MODEL_PATH=./models/csm-1b
CSM_MODEL_DEVICE=cuda
CSM_MODEL_DTYPE=bfloat16
CSM_MAX_AUDIO_LENGTH_MS=30000
CSM_DEFAULT_TEMPERATURE=0.9
CSM_DEFAULT_TOPK=50

# Voice Profiles
CSM_VOICE_PROFILES_DIR=./voice_profiles
CSM_MAX_CONTEXT_SEGMENTS=5

# Database Configuration
# Option 1: Use Human-Like's existing Railway PostgreSQL
# CSM_DATABASE_URL=postgresql://user:pass@your-railway-host.railway.app:5432/humanlike
# Option 2: Separate database for voice profiles
CSM_DATABASE_URL=postgresql://csm:csm_password@localhost:5432/csm_voices

# Redis Configuration
# Option 1: Use Human-Like's existing Railway Redis
# CSM_REDIS_URL=redis://default:password@your-railway-redis.railway.app:6379
# Option 2: Separate Redis instance
CSM_REDIS_URL=redis://localhost:6379/0

# Integration Mode
# "standalone" - CSM service with its own database tables
# "humanlike" - Integrated with Human-Like, shares database
CSM_INTEGRATION_MODE=standalone

# Storage Configuration
CSM_STORAGE_BACKEND=local
# For S3:
# CSM_STORAGE_BACKEND=s3
# CSM_S3_BUCKET=your-bucket-name
# CSM_S3_REGION=us-east-1
# For GCS:
# CSM_STORAGE_BACKEND=gcs
# CSM_GCS_BUCKET=your-bucket-name

# Training Configuration (Cloud GPU)
CSM_TRAINING_GPU_PROVIDER=local
# For RunPod:
# CSM_TRAINING_GPU_PROVIDER=runpod
# CSM_RUNPOD_API_KEY=your-runpod-api-key
# For Vast.ai:
# CSM_TRAINING_GPU_PROVIDER=vast
# CSM_VAST_API_KEY=your-vast-api-key

# Rate Limiting
CSM_RATE_LIMIT_REQUESTS=100
CSM_RATE_LIMIT_WINDOW_SECONDS=60

# Caching
CSM_CACHE_TTL_SECONDS=3600
CSM_CACHE_MAX_SIZE=100

# Audio Configuration
CSM_SAMPLE_RATE=24000
CSM_OUTPUT_FORMAT=wav

# Observability (Optional)
# CSM_OTEL_ENDPOINT=http://otel-collector:4317
# CSM_OTEL_SERVICE_NAME=csm-voice-service
CSM_METRICS_ENABLED=true

# HuggingFace (for model downloads)
HF_TOKEN=your-huggingface-token

# Twilio (for phone calls)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
